# Lab Report for Lab 1: Overview of Google Cloud and Study of Key Services

## University: [ITMO University](https://itmo.ru/ru/)
## Faculty: [FICT](https://fict.itmo.ru)
## Course: Cloud platforms as the basis of technology entrepreneurship
## Year: 2023/2024
## Group: u4225
## Author: Yangalin Islam Azamatovich
## Lab: Lab1
## Date of create: 21.10.2024
## Date of finished: 22.10.2024

---

### Цель работы:
Ознакомиться с основными возможностями и преимуществами облачной платформы Google Cloud, а также научиться создавать виртуальные машины и управлять хранилищем данных.

---

### Ход выполнения работы:

#### 1. Регистрация в Google Cloud и настройка доступа

1. Я зарегистрировался в [Google Cloud](https://cloud.google.com/) и заполнил Google форму для предоставления доступа к сервисам.
2. После того как я получил доступ, я перешел в **Google Cloud Console** и убедился, что проект активирован.

#### 2. Создание Service Account

1. Перешел в раздел **IAM & Admin -> Service Accounts**.
2. Нажал на кнопку **+ Create Service Account**.
3. Назвал аккаунт согласно инструкции: первая буква имени и фамилия с добавлением `-sa-lab1`. Пример: `iyangalin-sa-lab1`.
4. Назначил ему роль **Storage Admin**.
5. Завершил создание аккаунта.

#### 3. Создание виртуальной машины

1. Перешел в раздел **Compute Engine -> VM Instances**.
2. Нажал на **+ Create Instance**.
3. Указал имя для виртуальной машины, используя формат "первая буква имени и фамилия + -vm-lab1". Например, `iyangalin-vm-lab1`.
4. Настроил следующие параметры:
    - **Region**: выбрал ближайший доступный регион.
    - **Machine Type**: выбрал **e2-micro**.
    - **Preemptibility (Spot)**: выбрал **Spot** для использования ресурсов по сниженной цене.
5. Нажал **Create** для создания виртуальной машины.

Вот как выглядел процесс создания виртуальной машины:

![Скриншот создания виртуальной машины](../lab1/screenshots/vm-creation.png)

#### 4. Копирование файлов из Google Cloud Storage (GCS)

1. После создания виртуальной машины я подключился к ней через SSH.
2. Убедился, что утилита **gsutil** установлена, выполнив команду:
    ```bash
    gsutil version
    ```
3. Использовал команду для просмотра содержимого бакета:
    ```bash
    gsutil ls gs://lab1-bucket-itmo/
    ```
4. После успешного отображения файлов скопировал их на виртуальную машину рекурсивно с помощью команды:
    ```bash
    gsutil cp -r gs://lab1-bucket-itmo/ .
    ```

Процесс копирования файлов успешно завершился, что подтверждается следующим скриншотом:

![Скриншот копирования файлов](../lab1/screenshots/CD.jpg)

5. Проверил, что файлы были скопированы, выполнив команду:
    ```bash
    ls -lah
    ```

#### 5. Изменение прав доступа Service Account

1. Вернулся в раздел **IAM & Admin**.
2. Нашел созданный Service Account `iyangalin-sa-lab1` и изменил его роль с **Storage Admin** на **Compute Viewer**.
3. Снова попытался выполнить команду для просмотра содержимого бакета:
    ```bash
    gsutil ls gs://lab1-bucket-itmo/
    ```
4. Получил сообщение об ошибке из-за недостатка прав доступа. Это подтверждается следующим скриншотом:

![Скриншот ошибки при недостатке прав](../lab1/screenshots/trying.png)

#### 6. Удаление всех созданных ресурсов

1. Перешел в раздел **Compute Engine -> VM Instances**.
2. Выбрал созданную виртуальную машину `iyangalin-vm-lab1` и удалил её.
3. Удалил созданный **Service Account** в разделе **IAM & Admin**.
4. Отключил все использованные сервисы, чтобы не оставлять активных ресурсов.

---

### Заключение

В ходе выполнения лабораторной работы я научился:

- Работать с Google Cloud Console, включая создание и управление виртуальными машинами.
- Использовать команду **gsutil** для рекурсивного копирования файлов из Google Cloud Storage на виртуальную машину.
- Управлять правами доступа для **Service Accounts**, проверив влияние этих прав на доступ к ресурсам облака.
- Успешно удалил все созданные ресурсы для завершения работы.

