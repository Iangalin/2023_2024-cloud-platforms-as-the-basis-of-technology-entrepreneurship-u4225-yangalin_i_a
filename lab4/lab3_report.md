# Лабораторная работа №1

**University:** [ITMO University](https://itmo.ru/ru/)  
**Faculty:** [FICT](https://fict.itmo.ru)  
**Course:** Облачные платформы как основа технологического предпринимательства  
**Year:** 2023/2024  
**Group:** K66666  
**Author:** Yangalin Islam Azamatovich
**Lab:** Lab1  
**Date of create:** 26/10/2024
**Date of finished:** 27/10/2024  

---

## **Тема:** Разработка инфраструктуры MVP AI-приложения

### **Цель работы**

Разработать поэтапную инфраструктуру для MVP AI-приложения, учитывая требования и нагрузки на каждом этапе развития. Создать подробные схемы архитектуры, провести детальный экономический анализ и обосновать выбор используемых технологий и ресурсов.

### **Содержание отчёта**

1. [Введение](#введение)
2. [Анализ требований](#анализ-требований)
3. [Проектирование инфраструктуры](#проектирование-инфраструктуры)
   - [Начальное состояние](#начальное-состояние)
   - [Тестирование партнёрами](#тестирование-партнёрами)
   - [Продовое решение](#продовое-решение)
4. [Экономическая модель](#экономическая-модель)
5. [Итоговое сравнение и выводы](#итоговое-сравнение-и-выводы)
6. [Обоснование выбора ресурсов](#обоснование-выбора-ресурсов)
7. [Заключение](#заключение)
8. [Список литературы](#список-литературы)

---

### **Введение**

В современном мире искусственный интеллект и машинное обучение становятся неотъемлемой частью многих приложений и сервисов. Для успешного запуска AI-приложения необходимо тщательно спланировать инфраструктуру, обеспечивающую надёжность, безопасность и масштабируемость на каждом этапе развития.

### **Анализ требований**

Перед проектированием инфраструктуры важно определить основные требования и ожидаемые нагрузки для каждого этапа развития приложения.

#### **Этапы развития приложения**

1. **Начальное состояние**

   - **Цель:** Внутреннее тестирование базовой функциональности.
   - **Пользователи:** Команда разработчиков (до 5 человек).
   - **Нагрузка:** Минимальная.
   - **Требования:** Минимальные затраты, простота настройки, безопасность доступа.

2. **Тестирование партнёрами**

   - **Цель:** Бета-тестирование функционала с ограниченным кругом партнёров.
   - **Пользователи:** Партнёры компании (до 50 человек).
   - **Нагрузка:** Средняя.
   - **Требования:** Доступность из интернета, базовая безопасность, возможность масштабирования.

3. **Продовое решение**

   - **Цель:** Запуск приложения для массового рынка.
   - **Пользователи:** Конечные пользователи (от 1000 человек и более).
   - **Нагрузка:** Высокая.
   - **Требования:** Высокая доступность, масштабируемость, расширенные меры безопасности, соответствие нормативным требованиям.

### **Проектирование инфраструктуры**

На основе требований разработаны архитектурные решения для каждого этапа развития. Схемы инфраструктуры представлены ниже.

#### **Начальное состояние**

**Архитектура:**

- **Вычислительные ресурсы:** Один локальный сервер или VPS с минимальной конфигурацией.
- **Хранение данных:** Локальная база данных (SQLite или PostgreSQL).
- **AI/ML модули:** Выполняются локально на сервере.
- **Сеть и безопасность:** Доступ ограничен внутренней сетью или через VPN.

**Схема:** initial_state.drawio в данной папке

**Описание:**

- **Разработчики** подключаются к серверу через **внутреннюю сеть** или **VPN**.
- На сервере размещены:
  - **Web Application** (веб-приложение).
  - **Database** (база данных).
  - **AI/ML Modules** (модули искусственного интеллекта).

**Преимущества и недостатки:**

- **Преимущества:**
  - Низкие затраты на инфраструктуру.
  - Простота настройки и управления.
- **Недостатки:**
  - Отсутствие масштабируемости.
  - Ограниченная доступность для внешних пользователей.

#### **Тестирование партнёрами**

**Архитектура:**

- **Облачная платформа:** AWS.
- **Вычислительные ресурсы:** **EC2 Instance** для веб-приложения.
- **Хранение данных:** **RDS PostgreSQL**.
- **AI/ML сервисы:** **AWS SageMaker**.
- **Сеть и безопасность:**
  - **VPC** для изоляции ресурсов.
  - **Security Groups** для контроля доступа.
  - **SSL/TLS** для шифрования.

**Схема:** partner_testing.drawio в данной папке

**Описание:**

- **Партнёры** подключаются через **Интернет** с использованием **HTTPS**.
- В **AWS Cloud** настроена **VPC**, содержащая:
  - **EC2 Instance**.
  - **RDS Database**.
  - **SageMaker**.
- **Security Groups** обеспечивают безопасность.

**Преимущества и недостатки:**

- **Преимущества:**
  - Доступность для внешних пользователей.
  - Возможность масштабирования.
- **Недостатки:**
  - Увеличение затрат.
  - Сложность настройки облачных сервисов.

#### **Продовое решение**

**Архитектура:**

- **Облачная платформа:** AWS с расширенным набором сервисов.
- **Вычислительные ресурсы:**
  - **Auto Scaling Group** с **ECS Containers**.
  - **Elastic Load Balancer (ELB)**.
- **Хранение данных:** **AWS Aurora PostgreSQL**.
- **AI/ML сервисы:** **AWS SageMaker** с автоскейлингом.
- **Сеть и безопасность:**
  - **CloudFront CDN**.
  - **AWS WAF**.
  - **IAM Roles and Policies**.
- **Мониторинг и логирование:** **CloudWatch**, **CloudTrail**.

**Схема:** production_solution.drawio в данной папке

**Описание:**

- **Пользователи** подключаются через **CloudFront CDN**.
- Трафик проходит через **WAF** и **ELB** к **ECS Containers**.
- **ECS Containers** взаимодействуют с **Aurora Database** и **SageMaker**.
- **CloudWatch** и **CloudTrail** обеспечивают мониторинг и аудит.

**Преимущества и недостатки:**

- **Преимущества:**
  - Высокая производительность и масштабируемость.
  - Расширенные меры безопасности.
- **Недостатки:**
  - Значительные затраты.
  - Сложность управления инфраструктурой.

### **Экономическая модель**

#### **Подробный расчёт затрат**

##### **Начальное состояние**

- **Вычислительные ресурсы:**
  - **VPS с минимальной конфигурацией:** 1 CPU, 1 GB RAM.
  - **Стоимость:** $5/мес.
- **Хранение данных:**
  - **Локальная база данных:** Включена в стоимость VPS.
- **AI/ML сервисы:**
  - **Локальное выполнение моделей:** Без дополнительных затрат.
- **Сеть и безопасность:**
  - **VPN-сервис:** OpenVPN или аналогичный.
  - **Стоимость:** $5/мес.
- **Итого:** **$10/мес**

##### **Тестирование партнёрами**

- **Вычислительные ресурсы:**
  - **EC2 t3.small:** 2 vCPU, 2 GB RAM.
  - **Стоимость:** $0.0234/час * 730 часов = **$17.08/мес**.
- **Хранение данных:**
  - **RDS PostgreSQL (db.t3.micro):** 1 vCPU, 1 GB RAM.
  - **Стоимость:** $0.017/час * 730 часов = **$12.41/мес**.
  - **Хранение:** 20 GB * $0.115/GB = **$2.30/мес**.
- **AI/ML сервисы:**
  - **SageMaker ml.t2.medium:** $0.0521/час * 100 часов = **$5.21/мес**.
- **Сеть и безопасность:**
  - **Data Transfer Out:** 100 GB * $0.09/GB = **$9.00/мес**.
  - **SSL-сертификат:** Бесплатно через AWS Certificate Manager.
- **Итого:** **$46.00/мес**

##### **Продовое решение**

- **Вычислительные ресурсы:**
  - **Auto Scaling Group с 5 EC2 t3.medium Instances:**
    - **Стоимость за инстанс:** $0.0416/час * 730 часов = **$30.37/мес**.
    - **Итого:** 5 * $30.37 = **$151.85/мес**.
- **Хранение данных:**
  - **Aurora PostgreSQL:**
    - **Хранилище:** 100 GB * $0.1/GB = **$10.00/мес**.
    - **Производительность:** Среднее использование 4 ACU * $0.06/ACU-час * 730 часов = **$175.20/мес**.
    - **Итого:** **$185.20/мес**.
- **AI/ML сервисы:**
  - **SageMaker:**
    - **Обучение (ml.m5.large):** $0.126/час * 50 часов = **$6.30/мес**.
    - **Инференс (5 инстансов ml.t2.medium):** $0.0521/час * 730 часов * 5 = **$189.82/мес**.
    - **Итого:** **$196.12/мес**.
- **Сеть и безопасность:**
  - **CloudFront CDN:** 1 TB * $0.085/GB = **$85.00/мес**.
  - **AWS WAF:** 10 правил * $1.00/правило/мес = **$10.00/мес**.
  - **Data Transfer Out:** 500 GB * $0.09/GB = **$45.00/мес**.
  - **Итого:** **$140.00/мес**.
- **Дополнительные сервисы:**
  - **ELB:** $0.0225/час * 730 часов = **$16.43/мес**.
  - **Monitoring (CloudWatch):** **$20.00/мес**.
  - **Итого:** **$36.43/мес**.
- **Итого:** **$709.60/мес**

### **Итоговое сравнение и выводы**

| **Параметр**                | **Начальное состояние** | **Тестирование партнёрами** | **Продовое решение** |
|-----------------------------|-------------------------|-----------------------------|-----------------------|
| **Вычислительные ресурсы**  | $10/мес                 | $17.08/мес                  | $151.85/мес           |
| **Хранение данных**         | Включено                | $14.71/мес                  | $185.20/мес           |
| **AI/ML сервисы**           | Включено                | $5.21/мес                   | $196.12/мес           |
| **Сеть и безопасность**     | Включено                | $9.00/мес                   | $140.00/мес           |
| **Дополнительные сервисы**  | Включено                | Включено                    | $36.43/мес            |
| **Общие затраты**           | **$10/мес**             | **$46.00/мес**              | **$709.60/мес**       |

**Выводы:**

- **Рост затрат с развитием приложения:** Наблюдается значительное увеличение затрат по мере перехода от начального состояния к продовому решению.
- **Баланс между стоимостью и функциональностью:**
  - **Начальное состояние** обеспечивает минимальные затраты, но ограниченные возможности.
  - **Тестирование партнёрами** увеличивает затраты умеренно, предоставляя доступ к облачным сервисам и улучшенную доступность.
  - **Продовое решение** требует существенных инвестиций для обеспечения высокой производительности, масштабируемости и безопасности.
- **Экономическая эффективность:** При планировании бюджета важно учитывать прогнозируемую нагрузку и выбирать оптимальные ресурсы для каждого этапа.
- **Стратегическое планирование:** Поэтапный подход позволяет эффективно распределять ресурсы и инвестировать в инфраструктуру по мере роста приложения и пользовательской базы.

### **Обоснование выбора ресурсов**

**Начальное состояние:**

- **Экономия средств:** Использование минимально необходимых ресурсов.
- **Фокус на разработке:** Быстрый старт без сложной инфраструктуры.

**Тестирование партнёрами:**

- **Облачные сервисы:** Обеспечивают необходимую доступность и масштабируемость.
- **Безопасность:** Использование VPC и Security Groups для защиты данных.
- **Оптимизация затрат:** Оплата только за используемые ресурсы.

**Продовое решение:**

- **Масштабируемость и производительность:** Автоскейлинг и распределение нагрузки обеспечивают стабильную работу под высокой нагрузкой.
- **Безопасность:** Расширенные меры защиты от веб-угроз и контроль доступа.
- **Мониторинг и логирование:** Критически важны для поддержания высокой доступности и быстрого реагирования на инциденты.
- **Соответствие нормативам:** Соответствие требованиям законодательства и индустриальным стандартам по безопасности и защите данных.

### **Заключение**

В данной работе была разработана поэтапная инфраструктура для MVP AI-приложения, учитывающая требования каждого этапа развития. Проведён детальный экономический анализ, обоснован выбор технологий и ресурсов. Итоговое сравнение показало, что поэтапный подход позволяет эффективно управлять затратами, обеспечивая при этом необходимую функциональность и качество сервиса на каждом этапе.

Такой подход обеспечивает оптимальное использование ресурсов и средств, способствуя успешному запуску и развитию AI-приложения на рынке.

### **Список литературы**

1. **AWS Pricing:**
   - [Amazon EC2 Pricing](https://aws.amazon.com/ec2/pricing/)
   - [Amazon RDS Pricing](https://aws.amazon.com/rds/pricing/)
   - [Amazon Aurora Pricing](https://aws.amazon.com/rds/aurora/pricing/)
   - [Amazon SageMaker Pricing](https://aws.amazon.com/sagemaker/pricing/)
   - [Amazon CloudFront Pricing](https://aws.amazon.com/cloudfront/pricing/)
   - [AWS WAF Pricing](https://aws.amazon.com/waf/pricing/)
   - [Elastic Load Balancing Pricing](https://aws.amazon.com/elasticloadbalancing/pricing/)
   - [AWS CloudWatch Pricing](https://aws.amazon.com/cloudwatch/pricing/)
2. **AWS Documentation:** EC2, RDS, Aurora, SageMaker, WAF, CloudFront.
3. **Лучшие практики:** [AWS Well-Architected Framework](https://aws.amazon.com/architecture/well-architected/).

---

**Примечания:**

- **Встраивание схем:** Схемы инфраструктуры представлены в виде изображений и должны находиться в той же папке, что и отчёт, с именами `initial_state.png`, `partner_testing.png` и `production_solution.png`.
- **Форматирование:** Отчёт отформатирован в формате Markdown для удобства чтения и дальнейшей обработки.
- **Актуализация данных:** Цены и характеристики ресурсов актуальны на момент написания отчёта и могут изменяться со временем.

---

Если у вас есть дополнительные пожелания или требуется дальнейшая корректировка отчёта, пожалуйста, сообщите мне!

